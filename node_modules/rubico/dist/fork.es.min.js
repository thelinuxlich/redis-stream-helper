/**
 * rubico v1.8.1
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */
const isArray=Array.isArray,isPromise=r=>null!=r&&"function"==typeof r.then,promiseAll=Promise.all.bind(Promise),funcAll=r=>function(...e){const n=r.length,o=Array(n);let c=-1,t=!1;for(;++c<n;){const n=r[c](...e);isPromise(n)&&(t=!0),o[c]=n}return t?promiseAll(o):o},always=r=>function(){return r},__=Symbol.for("placeholder"),curry3ResolveArg0=(r,e,n)=>function(o){return r(o,e,n)},curry3ResolveArg1=(r,e,n)=>function(o){return r(e,o,n)},curry3ResolveArg2=(r,e,n)=>function(o){return r(e,n,o)},curry3=function(r,e,n,o){return e==__?curry3ResolveArg0(r,n,o):n==__?curry3ResolveArg1(r,e,o):curry3ResolveArg2(r,e,n)},objectSet=function(r,e,n){return r[e]=n,r},funcObjectAll=r=>function(...e){const n={},o=[];for(const c in r){const t=r[c](...e);isPromise(t)?o.push(t.then(curry3(objectSet,n,c,__))):n[c]=t}return 0==o.length?n:promiseAll(o).then((c=n,function(){return c}));var c},funcConcat=(r,e)=>function(...n){const o=r(...n);return isPromise(o)?o.then(e):e(o)},curry4ResolveArg0=(r,e,n,o)=>function(c){return r(c,e,n,o)},curry4ResolveArg1=(r,e,n,o)=>function(c){return r(e,c,n,o)},curry4ResolveArg2=(r,e,n,o)=>function(c){return r(e,n,c,o)},curry4ResolveArg3=(r,e,n,o)=>function(c){return r(e,n,o,c)},curry4=function(r,e,n,o,c){return e==__?curry4ResolveArg0(r,n,o,c):n==__?curry4ResolveArg1(r,e,o,c):o==__?curry4ResolveArg2(r,e,n,c):curry4ResolveArg3(r,e,n,o)},asyncFuncAllSeries=async function(r,e,n,o){const c=r.length;for(;++o<c;){const c=r[o](...e);n[o]=isPromise(c)?await c:c}return n},funcAllSeries=r=>function(...e){const n=r.length,o=[];let c=-1;for(;++c<n;){const n=r[c](...e);if(isPromise(n))return n.then(funcConcat(curry3(objectSet,o,c,__),(t=asyncFuncAllSeries,s=e,l=__,i=c,(u=r)==__?curry4ResolveArg0(t,s,l,i):s==__?curry4ResolveArg1(t,u,l,i):l==__?curry4ResolveArg2(t,u,s,i):curry4ResolveArg3(t,u,s,l))));o[c]=n}var t,u,s,l,i;return o},fork=r=>isArray(r)?funcAll(r):funcObjectAll(r);fork.series=r=>isArray(r)?funcAllSeries(r):funcObjectAll(r);export default fork;
