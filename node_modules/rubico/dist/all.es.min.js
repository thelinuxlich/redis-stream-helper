/**
 * rubico v1.8.1
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */
const isArray=Array.isArray,__=Symbol.for("placeholder"),curry3ResolveArg0=(r,e,t)=>function(o){return r(o,e,t)},curry3ResolveArg1=(r,e,t)=>function(o){return r(e,o,t)},curry3ResolveArg2=(r,e,t)=>function(o){return r(e,t,o)},curry3=function(r,e,t,o){return e==__?curry3ResolveArg0(r,t,o):t==__?curry3ResolveArg1(r,e,o):curry3ResolveArg2(r,e,t)},isPromise=r=>null!=r&&"function"==typeof r.then,promiseAll=Promise.all.bind(Promise),callPropUnary=(r,e,t)=>r[e](t),arrayAll=function(r,e){const t=r.length,o=[];let n=-1;for(;++n<t;){const t=e(r[n]);if(isPromise(t))o.push(t);else if(!t)return!1}return 0==o.length||promiseAll(o).then(curry3(callPropUnary,__,"every",Boolean))},iteratorAll=function(r,e){const t=[];for(const o of r){const r=e(o);if(isPromise(r))t.push(r);else if(!r)return!1}return 0==t.length||promiseAll(t).then(curry3(callPropUnary,__,"every",Boolean))},SelfReferencingPromise=function(r){const e=r.then((r=>[r,e]));return e},promiseRace=Promise.race.bind(Promise),asyncIteratorAll=async function(r,e,t,o=20){let n=await r.next();for(;!n.done;){if(t.size>=o){const[r,e]=await promiseRace(t);if(t.delete(e),!r)return!1}const l=e(n.value);if(isPromise(l))t.add(SelfReferencingPromise(l));else if(!l)return!1;n=await r.next()}for(;t.size>0;){const[r,e]=await promiseRace(t);if(t.delete(e),!r)return!1}return!0},objectValues=Object.values,reducerAllSync=(r,e,t)=>!!e&&r(t),reducerAll=r=>function(e,t){return!1!==e&&(isPromise(e)?e.then(curry3(reducerAllSync,r,__,t)):!!e&&r(t))},symbolIterator=Symbol.iterator,symbolAsyncIterator=Symbol.asyncIterator,all=r=>function(e){return isArray(e)?arrayAll(e,r):null==e?r(e):"function"==typeof e[symbolIterator]?iteratorAll(e[symbolIterator](),r):"function"==typeof e[symbolAsyncIterator]?asyncIteratorAll(e[symbolAsyncIterator](),r,new Set):"function"==typeof e.reduce?e.reduce(reducerAll(r),!0):e.constructor==Object?arrayAll(objectValues(e),r):r(e)};export default all;
