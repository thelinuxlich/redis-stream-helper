/**
 * rubico v1.8.1
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.and=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=Symbol.for("placeholder"),e=(n,t,e)=>n?t():e(),o=(n,t,e,o)=>function(){return n(t,e,o)},r=n=>function(){return n},u=async function(t,e,o){const r=t.length;for(;++o<r;){let r=t[o](e);if(n(r)&&(r=await r),!r)return!1}return!0};return f=>function(i){if(null!=i&&"function"==typeof i.and)return i.and(f);const c=f.length;let l=-1;for(;++l<c;){const c=f[l](i);if(n(c))return c.then((s=e,a=t,d=o(u,f,i,l),h=r(!1),a==t?((n,t,e)=>function(o){return n(o,t,e)})(s,d,h):d==t?((n,t,e)=>function(o){return n(t,o,e)})(s,a,h):((n,t,e)=>function(o){return n(t,e,o)})(s,a,d)));if(!c)return!1}var s,a,d,h;return!0}}());
