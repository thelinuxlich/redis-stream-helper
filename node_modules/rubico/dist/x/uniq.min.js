/**
 * rubico v1.8.1
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.uniq=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=Array.isArray,t=n=>null!=n&&"function"==typeof n.then,r=Symbol.for("placeholder"),e=function(n,t,e,o){return t==r?((n,t,r)=>function(e){return n(e,t,r)})(n,e,o):e==r?((n,t,r)=>function(e){return n(t,e,r)})(n,t,o):((n,t,r)=>function(e){return n(t,r,e)})(n,t,e)},o=function(n,t,e,o){return t==r?((n,t,r)=>function(...e){return n(e,t,r)})(n,e,o):e==r?((n,t,r)=>function(...e){return n(t,e,r)})(n,t,o):((n,t,r)=>function(...e){return n(t,r,e)})(n,t,e)},u=(Object.values,Object.prototype.toString),c=n=>u.call(n),i=async function(n,r,e){let o=n.next();if(o.done)return e;for(;!o.done;)e=r(e,o.value),t(e)&&(e=await e),o=n.next();return e},f=function(n,o,u){let c=n.next();if(c.done)return u;for(void 0===u&&(u=c.value,c=n.next());!c.done;){if(u=o(u,c.value),t(u))return u.then(e(i,n,o,r));c=n.next()}return u},a=async function(n,t,r){let e=await n.next();if(e.done)return r;for(void 0===r&&(r=e.value,e=await n.next());!e.done;)r=await t(r,e.value),e=await n.next();return r},l=Symbol.iterator,s=Symbol.asyncIterator,y=function(n,t,e){return t==r?((n,t)=>function(r){return n(r,t)})(n,e):((n,t)=>function(r){return n(t,r)})(n,t)},d=function(n,t,e,o,u){return t==r?((n,t,r,e)=>function(o){return n(o,t,r,e)})(n,e,o,u):e==r?((n,t,r,e)=>function(o){return n(t,o,r,e)})(n,t,o,u):o==r?((n,t,r,e)=>function(o){return n(t,r,o,e)})(n,t,e,u):((n,t,r,e)=>function(o){return n(t,r,e,o)})(n,t,e,o)},h=async function(n,r,e,o){const u=n.length;for(;++o<u;)e=r(e,n[o],o,n),t(e)&&(e=await e);return e},p=Object.keys,v=async function(n,r,e,o,u){const c=o.length;for(;++u<c;){const c=o[u];e=r(e,n[c],c,n),t(e)&&(e=await e)}return e},b=async function(n,r,e,o){for(const[u,c]of o)e=r(e,c,u,n),t(e)&&(e=await e);return e},w=(n,t)=>function(...r){return t(n(...r))},x=(n,e)=>function(o,u){const c=n(o,u);return t(c)?c.then(y(e,r,u)):e(c,u)},g=function(u,i,j){const m=u[0];return n(m)?function(n,e,o){const u=n.length;let c=-1;for(void 0===o&&(o=n[++c]);++c<u;)if(o=e(o,n[c],c,n),t(o))return o.then(d(h,n,e,r,c));return o}(m,i,j):"function"==typeof m?"[object GeneratorFunction]"==c(m)?((n,t,o)=>w(n,e(f,r,t,o)))(m,i,j):(n=>"[object AsyncGeneratorFunction]"==c(n))(m)?((n,t,o)=>w(n,e(a,r,t,o)))(m,i,j):o(g,r,1==u.length?x(i,m):u.reduce(x,i),j):null==m?void 0===j?y(i,m,r):i(j,m):m.constructor==Map?function(n,e,o){const u=n.entries();if(void 0===o){const n=u.next();if(n.done)return o;o=n.value[1]}for(const[c,i]of u)if(o=e(o,i,c,n),t(o))return o.then(d(b,n,e,r,u));return o}(m,i,j):"function"==typeof m[l]?f(m[l](),i,j):"function"==typeof m[s]?a(m[s](),i,j):"function"==typeof m.reduce?m.reduce(i,j):"function"==typeof m.chain?m.chain(y(i,j,r)):"function"==typeof m.flatMap?m.flatMap(y(i,j,r)):m.constructor==Object?function(n,e,o){const u=p(n),c=u.length;let i=-1;for(void 0===o&&(o=n[u[++i]]);++i<c;){const c=u[i];if(o=e(o,n[c],c,n),t(o))return o.then((f=v,l=e,s=r,y=u,d=i,(a=n)==r?((n,t,r,e,o)=>function(u){return n(u,t,r,e,o)})(f,l,s,y,d):l==r?((n,t,r,e,o)=>function(u){return n(t,u,r,e,o)})(f,a,s,y,d):s==r?((n,t,r,e,o)=>function(u){return n(t,r,u,e,o)})(f,a,l,y,d):y==r?((n,t,r,e,o)=>function(u){return n(t,r,e,u,o)})(f,a,l,s,d):((n,t,r,e,o)=>function(u){return n(t,r,e,o,u)})(f,a,l,s,y)))}var f,a,l,s,y,d;return o}(m,i,j):void 0===j?y(i,m,r):i(j,m)};return u=>{if(!n(u))throw Error("uniq(arr): arr is not an array");const c=new Set;return(i=(n,t)=>c.has(t)?n:(c.add(t),[...n,t]),"function"==typeof(f=[])?function(...n){const o=f(...n);return t(o)?o.then(e(g,n,i,r)):g(n,i,o)}:o(g,r,i,f))(u);var i,f}}());
